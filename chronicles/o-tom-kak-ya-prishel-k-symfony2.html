<!DOCTYPE html>
<html lang="en">

  
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>
        
        О том, как я пришел к Symfony2 &middot; Ivan Fateev&#039;s Blog
        
    </title>

    <meta property="og:type" content="website" />
    <meta property="og:title" content="О том, как я пришел к Symfony2" />
    <meta property="og:description" content="О том, как я пришел к Symfony2" />

    <!-- CSS -->
    <link rel="stylesheet" href="/assets/main.css">
    <!-- <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Libre+Baskerville:400,400i,700"> -->

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/wp-content/uploads/2012/09/favicon.png">

    <style>


        .post-title {
            font-size: 2rem;
        }

        nav {
            margin-bottom: 1rem;
        }

        footer {
            clear: both;
        }

        .skills {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            grid-gap: 10px;
            margin-right: 1rem;
        }

        section.about {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            grid-gap: 10px;
        }

        .about-pic {
            min-width: 300px;
            width: 20%;
            text-align: center;
            margin-right: 1rem;
            grid-column: 2;

        }

        .social-links {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr 1fr;
        }

        .social-links img {
            width: 50px;
        }

        .about-details {
            grid-column: span 3;
        }

        @media (min-width: 600px) {
            .skills {
                margin-right: 0px;
            }
            .about-details {
                grid-column: 1 none;
            }
        }


        .skill-value {
            margin-top: 0.2rem;
            border: solid 1px #ccc;
            height: 0.7rem;
            max-width: 300px;
            width: 100%;
        }
        .skill-value div {
            background-color: #aaa;
            height: 100%;
        }


        .catalogue-item {
            border: none;
            padding: 0px;
        }

        div.tags, div.tags a {
            /* display: none; */
            border: 0px;
            padding: 0px;
            color: #aaa;
        }

        div.tags a {
            text-decoration: underline;
        }

        div.tags {
            border-bottom: 1px solid #e5e5e5;
            padding-bottom: 2rem;
            margin-bottom: 2rem;
        }

        .post img {
            /* float: left; */
            padding-bottom: 1rem;
        }

        .catalogue-item img {
            /* width: 100px; */
            margin-right: 1rem;
            max-width: 100%;
            max-height: 400px;
        }

        div.pagination {
            clear: both;
        }

        pre {
            tab-size: 2;
        }

        html {
            /* font-family: 'Times New Roman', Roman, serif; */
            font-size: large;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif
        }

    </style>
</head>

  <body>
    <nav class="nav">
      <div class="nav-container">
        <a href="/">
          <h2 class="nav-title">Ivan Fateev&#039;s Blog</h2>
        </a>
        <ul>
          <li><a href="/about">About</a></li>
        </ul>
      </div>
    </nav>

    <main>
        <section id="content">
            <div class="post">
  <div class="post-info">
    <span>Written by</span>
    
        Poisonous John
    

    
      <br>
      <span>on&nbsp;</span><time datetime="2012-09-02 03:44:44 +0400">September 02, 2012</time>
    
  </div>

  <h1 class="post-title">О том, как я пришел к Symfony2</h1>
  <div class="post-line"></div>

  <p><a href="http://fateev.pro/wp-content/uploads/2012/09/logo_symfony_header.png"><img class="size-full wp-image-49 alignleft" title="logo_symfony_header" src="http://fateev.pro/wp-content/uploads/2012/09/logo_symfony_header.png" alt="" width="240" height="60" /></a>Это что-то вроде вступительного слова, а также первый из серии постов про мой инструментарий, про те вещи с которыми я работаю.</p>

<p>За всю свою не очень долгую карьеру программиста, на чем только я не пробовал кодить. Начиналось все безобидно, в колледже, я захотел сделать свою персональную страничку, тогда это считалось круто, все дела. И я потихоньку начал гуглить на тему, как же это все делается. В то время, как раз, web стремительно развивался и PHP имел широкое распространение. </p>

<p>Потихоньку, полегоньку, я начал разбираться что к чему с HTML, затем освоил PHP на базовом уровне, и начал творить. Мои потуги были замечены со стороны и меня взяли на должность лаборанта в аудиторию, где проводились все лекции по информационным технологиям и программированию.</p>

<p>Там у меня было много времени на то, чтобы освоиться с PHP. Помимо задач по администрированию рабочих тачек и линуксового сервера, я занялся разработкой электронного тестирования на PHP, а также локального сайта для проведения лабораторных работ.</p>

<p>По мере своего развития я рефакторил код, и, наверное, прошел все этапы развития самого программирования, начиная с процедурного подхода и заканчивая ООП. </p>

<p>Когда я все таки закончил колледж, решил поставить жизнь с ног на голову, и дать деру в Москву, я думал что знаю PHP, ООП, и даже SQL (на счет последнего, я все же сомневался, но думал что знаю нелпохо), я даже начал читать про паттерны проектирования и пробовать свои силы с Zend Framework (я только совсем недавно узнал что такое фреймворки и что для PHP есть оные), но мои надежды жестоко обломали на первом же собеседовании, вопросами как раз на тему SQL. К следующему собеседованию я немного подтянулся в SQL, правда чисто в теоретической части. Мне повезло и на собеседовании по SQL были те же вопросы, поэтому я его прошел, и мне повезло даже дважды, потому что я устроился в компанию своей мечты =)</p>

<p>Итак, выйдя первый день на работу на меня свалилась вся тяжесть трудовыебудней, сразу же сказали выносить какой-то проект на ПРО (черт возьми! что такое ПРО? я тогда понятия не имел), но с помощью коллеги я все же справился с задачей. В компании на то время использовалась своя CMS, которая была чем-то средним между CMS и фреймворком. Коллега тогда поразился, что я довольно быстро въехал в их CMS’ку, но здесь роль сыграло то, что я был немного знаком с Zend Framework. Вообще,  я был уверен что в этой компании используется какой-нибудь известный фреймворк, но оказалось - это совсем не так.</p>

<p>Признаться, я представлял что такое MVC, но на деле никогда им не пользовался, и первым опытом MVC для меня стал именно CMS нашей компании. По сравнению с тем, что я делал раньше (считай Plain PHP) было очень приятно пользовать все преимущества MVC и я был всем доволен. Я набирался опыта, получая довольно сложные задачи, изучал новые технологии, сильно вникал во всю мощь ООП (кстати особенно полезно для понимания было изучение Java), и в ходе обсуждения с коллегами, зашла тема о фреймворках, и мы выдвинули предложение нашему техническому директору перейти на один из фреймворков. </p>

<p>Предложение было спонтанно, и мы все тогда думали, что переход будет долгоми, и все это будет еще не скоро, но, тем не менее, стали рассматривать варианты фреймворков, среди которых были: Zend, Yii, Kohana и Symfony2. Мы рассмотрели каждый из них, пытались сравнивать, но таки пришли к выводу, что чтобы оценить фреймворк, надо сделать проект на нем, тогда все станет ясно, насколько хорош фреймворк на практике. Начальство решило, что выбор должен быть между Symfony2 и Yii (хотя я был за Zend), и мы решили сделать проект для начала на Symfony2.</p>

<p>Стоит заметить, что Symfony2 тогда только зарелизилась, и по сравнению с symfony первой, там были кардинальные отличия, symfony2 заслужила наше внимание благодаря активному коммьюнити, но на практике оказалось, что сам фреймворк после релиза был довольно сырым и набор бандлов был довольно скудным.</p>

<p>Для нас проблемой стал выбор админогенератора. На то время было их было всего два достойных: Admingenerator и Sonata. Исследования по их выбору проводил не я, мой коллега, и он сказал что Admingenerator более гибкий, но там многое нужно дописывать, а Sonata не такая гибкая, но там довольно много фишек идет в стандартном функционале, но все-таки она довольно сырая.</p>

<p>Когда до меня дошла очередь делать проект на Symfony2, я все же решил что будем использовать Sonata, потому что мне не хотелось изобретать велосипед и писать то, что уже есть. Вариант, что нужно сделать свой админогенератор не рассматривался ввиду того, что команда, работавшая над сонатой, гораздо больше, и на порядок дольше занимаются этим делом, поэтому изобретать второй велосипед точно не хотелось. Пришлось разбираться с тем, что есть.</p>

<p>И я скажу вам, что разбираться с Сонатой было нелегко, почти полное отсутствие ПОЛНОЙ документакции, только скудные крохи, что были на их сайте, большинство вещей приходилось узнавать, просто копая код.  Были и плюсы: такой подход мне стал настолько привычен, что я смело лезу в самые дебри чужого кода, дабы узнать то, что мне нужно. Я долго матерился на сонату и симфони (у которой были просто нереальные проблемы с обратной совместимостью), но с каждым обновлением дела становились все лучше и лучше.</p>

<p>Отдельный геморроем было для меня - разобраться с Doctrine2, особенно, если учитывать, что ранее я с ORM не имел дела никогда. Въехал в принцип работы я не сразу, но в целом мне понравилось,<del> хотя я и считаю что ORM менеджеры не позволяют НОРМАЛЬНО сделать некоторые простые вещи, вроде агрегирования данных, и в таких случаях приходится извращаться, правда, радует, что такое бывает довольно редко</del>.</p>

<p><strong>UPD</strong>: Спасибо Максиму, посмотрел более подробно доки, попробовал немного перестроить запросы и добился того что надо безо всяких проблем. </p>

<p>Я думаю, если бы Symfony2 был бы немного постарше, то проблем с ним совсем не возникало бы, за полгода фреймворк динамично развивался, появлялось все больше команд, которые разрабатывали интересные и полезные бандлы. Меня порадовала сервисная архитектура фреймворка, модель с бандлами и сам паттерн dependency injection. Благодаря Symfony2 я узнал что такое социальный кодинг и github. Я абсолютно не жалею, чтоб выбрал этот фреймворк, а также не жалею что выбрал Sonata’у в качестве админогенератора, потому что разобравшись с ней, я перестал запариваться над тем, что и как сделать, забыть про реализацию CRUD, а кастомные формы стало делать явно легче.</p>

<p>Сейчас я делаю внутренний проект компании, который целиком и полностью сделан на сонате, то есть пользовательской части там вообще нет.</p>

<p>Из плюсов Symfony2 отмечу:</p>
<ul>
	<li>Мощнейшая security система, поддерживающая роли, ACL на уровне классов, объектов и даже полей объектов (мне можете поверить, проект, которым я занимаюсь на данный момент предъявляет ОСОБЫЕ требования к системе ролей и доступа в целом)</li>
	<li>Приличный набор бандлов (правда пока что не так много качественных бандлов, ибо фреймворк относительно молодой)</li>
	<li>Вы можете использовать каждый из компонент фреймворка в отдельности (например интегрировать часть фреймворка в существующий проект)</li>
	<li>Интеграция с ORM менеджерами</li>
	<li>Легкая интеграция с NoSQL</li>
	<li>Сервисная архитектура</li>
	<li>Интеграция с composer</li>
</ul>
<p>Из минусов:</p>

<p>Столкнулся с задачей разграничения доступа по ролям, причем организовать его нужно довольно гибко, но в symfony2 большинство конфигов лежат в файлах, которые кэшатся, вынести конфигурацию таких важных вещей как иерархия ролей можно, но для этого нужно будет дополнительно заморачиваться, что явно не с руки. </p>


</div>

<div class="pagination">
  
    <a href="/symfony-sonata/arxitektura-sonata-admin-bundle.html" class="left arrow">&#8592;</a>
  
  
    <a href="/about/author.html" class="right arrow">&#8594;</a>
  

  <a href="#" class="top">Top</a>
</div>

        </section>
    </main>

    <footer>
      <span>
        &copy; <time datetime="2018-10-15 00:33:35 +0300">2018</time> . Made with Jekyll using the <a href="https://github.com/chesterhow/tale/">Tale</a> theme.
      </span>

    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-34509649-1', 'auto');
        ga('send', 'pageview');

    </script>

    <!-- Yandex.Metrika counter -->
    <script type="text/javascript" >
        (function (d, w, c) {
            (w[c] = w[c] || []).push(function() {
                try {
                    w.yaCounter16940533 = new Ya.Metrika({
                        id:16940533,
                        clickmap:true,
                        trackLinks:true,
                        accurateTrackBounce:true,
                        webvisor:true
                    });
                } catch(e) { }
            });

            var n = d.getElementsByTagName("script")[0],
                s = d.createElement("script"),
                f = function () { n.parentNode.insertBefore(s, n); };
            s.type = "text/javascript";
            s.async = true;
            s.src = "https://mc.yandex.ru/metrika/watch.js";

            if (w.opera == "[object Opera]") {
                d.addEventListener("DOMContentLoaded", f, false);
            } else { f(); }
        })(document, window, "yandex_metrika_callbacks");
    </script>
    <noscript><div><img src="https://mc.yandex.ru/watch/16940533" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
    <!-- /Yandex.Metrika counter -->
    <script type="text/javascript">!(function(w,d,s,l,x){w[l]=w[l]||[];var f=d.getElementsByTagName(s)[0],j=d.createElement(s);j.async=!0;j.src='//web.tolstoycomments.com/sitejs/app.js?i='+l+'&x='+x+'&t='+(new Date().getTime());f.parentNode.insertBefore(j,f)})(window,document,'script','tolstoycomments','1462');</script>
    </footer>
  </body>
</html>